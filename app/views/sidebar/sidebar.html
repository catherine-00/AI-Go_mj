<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>아이-고 · Drawer Demo</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f7f8fb; --panel:#f3f4f6; --card:#fff; --line:#e6e8ee; --text:#0f172a; --muted:#77839a;
    --blue:#2563eb; --blue-50:#eff6ff; --blue-100:#e7f0ff; --blue-200:#cfe0ff;
    --green:#10b981; --green-50:#ecfdf5; --green-100:#e6fbf3; --green-200:#cdefe4;
    --red:#ef4444; --red-50:#fff1f2; --red-100:#ffe7e9; --red-200:#ffd7db;
    --purple:#8b5cf6; --purple-50:#f5f3ff; --purple-100:#efeaff; --purple-200:#e3dbff;
    --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.30), 0 2px 8px rgba(0,0,0,.12);
    
    /* 모바일 웹 표준 여백 시스템 */
    --container-padding: 16px;
    --section-gap: 24px;
    --card-gap: 16px;
    --border-radius: 16px;
    --button-height: 48px;
    --icon-size: 24px;
  }
  
  *{box-sizing:border-box}
  
  html,body{
    height:100%;
    margin: 0;
    padding: 0;
  }
  
  body{
    background:var(--bg); 
    color:var(--text);
    font-family:"Pretendard","Noto Sans KR",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  .page{
    width: 100%;
    min-height: 100vh; 
    background:var(--bg); 
    display: flex; 
    flex-direction: column; 
    position: relative;
  }

  /* ===== Topbar (데모용) ===== */
  .topbar{
    position: sticky; 
    top: 0; 
    z-index: 5; 
    background: #fff; 
    border-bottom: 1px solid var(--line);
    padding: 16px var(--container-padding); 
    display: flex; 
    align-items: center; 
    justify-content: space-between;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  
  .row{
    display: flex; 
    align-items: center; 
    gap: 12px;
  }
  
  .btn{
    display: grid;
    place-items: center; 
    width: 40px;
    height: 40px;
    border-radius: 12px;
    border: 1px solid var(--line);
    background: #fff;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
  }
  
  .btn:hover {
    background: var(--bg);
    border-color: var(--blue);
    transform: translateY(-1px);
  }
  
  .logo{
    display: flex;
    align-items: center;
    gap: 12px;
    color: #246bff;
    font-weight: 900;
    font-size: 18px;
  }
  
  .content{
    padding: var(--section-gap) var(--container-padding);
    display: flex;
    flex-direction: column;
    gap: var(--section-gap);
  }
  
  .content h1{
    margin: 0 0 16px 0; 
    font-size: 24px;
    font-weight: 800;
    color: var(--text);
  }
  
  .hint{
    color: #64748b;
    font-size: 14px;
    line-height: 1.5;
  }

  /* ===== Drawer & Overlay ===== */
  .overlay{
    position: fixed; 
    inset: 0; 
    background: rgba(0,0,0,.55); 
    opacity: 0; 
    pointer-events: none; 
    transition: .2s; 
    z-index: 20;
  }
  
  .overlay.show{
    opacity: 1; 
    pointer-events: auto;
  }
  
  aside.drawer{
    position: fixed; 
    left: 0; 
    top: 0; 
    bottom: 0; 
    width: 320px; 
    background: var(--panel);
    border-right: 1px solid var(--line); 
    box-shadow: var(--shadow);
    transform: translateX(-100%); 
    transition: transform .24s ease-out; 
    z-index: 21;
    display: flex; 
    flex-direction: column;
  }
  
  aside.drawer.open{
    transform: translateX(0);
  }
  
  .header{
    padding: 20px; 
    color: #fff;
    background: linear-gradient(135deg, #2b73ff 0%, #8a2cff 100%);
  }
  
  .header-top{
    display: flex; 
    align-items: center; 
    justify-content: space-between;
  }
  
  .brand{
    display: flex; 
    align-items: center; 
    gap: 12px; 
    font-weight: 900; 
    font-size: 20px;
  }
  
  .badge{
    width: 36px;
    height: 36px;
    border-radius: 12px;
    background: rgba(255,255,255,.16);
    display: grid;
    place-items: center;
    border: 1px solid rgba(255,255,255,.35);
    flex-shrink: 0;
  }
  
  .btn-x{
    width: 36px;
    height: 36px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,.35);
    background: rgba(255,255,255,.14);
    display: grid;
    place-items: center;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
  }
  
  .btn-x:hover {
    background: rgba(255,255,255,.25);
    transform: scale(1.05);
  }
  
  .profile{
    margin-top: 16px; 
    display: flex; 
    align-items: center; 
    gap: 16px;
    padding: 20px; 
    border-radius: 16px; 
    background: rgba(255,255,255,.14); 
    border: 1px solid rgba(255,255,255,.38);
    -webkit-backdrop-filter: blur(6px); 
    backdrop-filter: blur(6px);
  }
  
  .avatar{
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    background: rgba(255,255,255,.22);
    border: 1px solid rgba(255,255,255,.45); 
    font-weight: 800;
    font-size: 20px;
    flex-shrink: 0;
  }
  
  .who{flex: 1}
  .who .name{font-weight: 900; font-size: 16px; margin-bottom: 4px;}
  .who .mail{font-size: 12px; opacity: .9; line-height: 1.4;}
  
  .btn-gear{
    width: 36px;
    height: 36px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,.35);
    background: rgba(255,255,255,.16);
    display: grid;
    place-items: center;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
  }
  
  .btn-gear:hover {
    background: rgba(255,255,255,.25);
    transform: scale(1.05);
  }

  /* 로그인하지 않은 상태 스타일 */
  .login-required{
    margin-top: 16px;
  }
  
  .login-prompt{
    display: flex; 
    align-items: center; 
    gap: 16px;
    padding: 20px; 
    border-radius: 16px; 
    background: rgba(255,255,255,.14); 
    border: 1px solid rgba(255,255,255,.38);
    -webkit-backdrop-filter: blur(6px); 
    backdrop-filter: blur(6px);
  }
  
  .login-icon{
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    background: rgba(255,255,255,.22);
    border: 1px solid rgba(255,255,255,.45); 
    font-size: 22px;
    flex-shrink: 0;
  }
  
  .login-text{flex: 1}
  .login-title{font-weight: 900; font-size: 16px; margin-bottom: 4px}
  .login-subtitle{font-size: 12px; opacity: .9; line-height: 1.4}
  
  .login-btn{
    width: 36px;
    height: 36px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,.35);
    background: rgba(255,255,255,.16);
    display: grid;
    place-items: center;
    cursor: pointer;
    color: #fff;
    transition: all 0.2s ease;
    flex-shrink: 0;
  }
  
  .login-btn:hover {
    background: rgba(255,255,255,.25);
    transform: scale(1.05);
  }

  nav{
    padding: 20px;
    flex: 1;
  }
  
  ul{
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  
  a.nav-item{
    display: flex; 
    align-items: center; 
    gap: 16px; 
    padding: 16px; 
    border-radius: 16px; 
    border: 1px solid transparent; 
    color: #1f2a44; 
    text-decoration: none; 
    background: transparent;
    transition: all 0.2s ease;
  }
  
  a.nav-item .ic{
    width: 40px;
    height: 40px;
    border-radius: 12px;
    display: grid;
    place-items: center;
    border: 1px solid var(--line); 
    background: #f1f3f8; 
    color: #a0a9ba;
    flex-shrink: 0;
  }
  
  a.nav-item .txt{
    font-weight: 700;
    font-size: 16px;
  }
  
  a.nav-item:hover{
    background: #f1f4f9;
    transform: translateX(4px);
  }
  
  /* Active + theme */
  .nav-item.active.theme-blue{background: var(--blue-100); border-color: var(--blue-200)}
  .nav-item.active.theme-blue .ic{background: var(--blue-50); border-color: var(--blue-200); color: var(--blue)}
  .nav-item.active.theme-green{background: var(--green-100); border-color: var(--green-200)}
  .nav-item.active.theme-green .ic{background: var(--green-50); border-color: var(--green-200); color: var(--green)}
  .nav-item.active.theme-red{background: var(--red-100); border-color: var(--red-200)}
  .nav-item.active.theme-red .ic{background: var(--red-50); border-color: var(--red-200); color: var(--red)}
  .nav-item.active.theme-purple{background: var(--purple-100); border-color: var(--purple-200)}
  .nav-item.active.theme-purple .ic{background: var(--purple-50); border-color: var(--purple-200); color: var(--purple)}

  .foot{
    margin-top: auto; 
    padding: 20px; 
    text-align: center; 
    color: #9aa5b5; 
    font-size: 12px; 
    border-top: 1px solid var(--line);
    line-height: 1.5;
  }
  
  .foot .ver{
    font-weight: 700; 
    color: #8b94a6; 
    margin-bottom: 8px;
    font-size: 14px;
  }
  
  /* 모바일 웹 표준 레이아웃 */
  @media (max-width: 480px) {
    :root {
      --container-padding: 16px;
      --section-gap: 20px;
      --card-gap: 12px;
    }
    
    .content {
      padding: var(--section-gap) var(--container-padding);
      gap: var(--section-gap);
    }
    
    .topbar {
      padding: 16px var(--container-padding);
    }
    
    .header {
      padding: 16px;
    }
    
    .profile {
      padding: 16px;
      gap: 12px;
    }
    
    .avatar {
      width: 40px;
      height: 40px;
      font-size: 18px;
    }
    
    .login-icon {
      width: 40px;
      height: 40px;
      font-size: 20px;
    }
    
    .login-prompt {
      padding: 16px;
      gap: 12px;
    }
    
    nav {
      padding: 16px;
    }
    
    a.nav-item {
      padding: 14px;
      gap: 12px;
    }
    
    a.nav-item .ic {
      width: 36px;
      height: 36px;
    }
    
    aside.drawer {
      width: 280px;
    }
  }
  
  @media (min-width: 481px) and (max-width: 768px) {
    :root {
      --container-padding: 24px;
      --section-gap: 32px;
      --card-gap: 20px;
    }
    
    .header {
      padding: 24px;
    }
    
    .profile {
      padding: 24px;
      gap: 20px;
    }
    
    .avatar {
      width: 52px;
      height: 52px;
      font-size: 22px;
    }
    
    .login-icon {
      width: 52px;
      height: 52px;
      font-size: 24px;
    }
    
    .login-prompt {
      padding: 24px;
      gap: 20px;
    }
    
    nav {
      padding: 24px;
    }
    
    a.nav-item {
      padding: 18px;
      gap: 18px;
    }
    
    a.nav-item .ic {
      width: 44px;
      height: 44px;
    }
  }
  
  @media (min-width: 769px) {
    :root {
      --container-padding: 32px;
      --section-gap: 40px;
      --card-gap: 24px;
    }
    
    .header {
      padding: 28px;
    }
    
    .profile {
      padding: 28px;
      gap: 24px;
    }
    
    .avatar {
      width: 56px;
      height: 56px;
      font-size: 24px;
    }
    
    .login-icon {
      width: 56px;
      height: 56px;
      font-size: 26px;
    }
    
    .login-prompt {
      padding: 28px;
      gap: 24px;
    }
    
    nav {
      padding: 28px;
    }
    
    a.nav-item {
      padding: 20px;
      gap: 20px;
    }
    
    a.nav-item .ic {
      width: 48px;
      height: 48px;
    }
    
    aside.drawer {
      width: 360px;
    }
  }
</style>
</head>
<body>
  <div class="page">
    <!-- Topbar -->
    <header class="topbar">
      <div class="row">
        <button id="openDrawerBtn" class="btn" aria-controls="drawer" aria-expanded="false" aria-label="메뉴 열기">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M3 12h18M3 18h18"/></svg>
        </button>
        <div class="logo">
          <span class="btn" style="width:28px;height:28px;border-radius:9px;border-color:#d5e2ff;background:#eef4ff;display:grid;place-items:center">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2b73ff" stroke-width="2"><rect x="3" y="8" width="18" height="8" rx="2"></rect><circle cx="8" cy="17" r="2" fill="#2b73ff" stroke="none"></circle><circle cx="16" cy="17" r="2" fill="#2b73ff" stroke="none"></circle></svg>
          </span>
          <strong>아이-고</strong>
        </div>
      </div>
      <span class="hint">좌측 메뉴 버튼으로 드로어를 열어보세요</span>
    </header>

    <main class="content" id="view" tabindex="-1" aria-live="polite">
      <h1>홈</h1>
      <p class="hint">이 영역은 해시 라우팅으로 페이지가 바뀌는 데모 영역입니다. (#/, #/quiz, #/wrong, #/analytics)</p>
    </main>

    <!-- Overlay -->
    <div id="overlay" class="overlay" tabindex="-1" aria-hidden="true"></div>

    <!-- Drawer -->
    <aside id="drawer" class="drawer" role="dialog" aria-modal="true" aria-labelledby="drawerTitle" aria-hidden="true">
      <div class="header">
        <div class="header-top">
          <div class="brand" id="drawerTitle">
            <span class="badge">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
                <rect x="3" y="8" width="18" height="8" rx="2"></rect>
                <circle cx="8" cy="17" r="2" fill="#fff" stroke="none"></circle>
                <circle cx="16" cy="17" r="2" fill="#fff" stroke="none"></circle>
              </svg>
            </span>
            아이-고
          </div>
          <button id="closeDrawerBtn" class="btn-x" aria-label="닫기">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2"><path d="M6 6l12 12M18 6l-12 12"/></svg>
          </button>
        </div>

        <div class="profile" id="userProfile">
          <div class="avatar">👤</div>
          <div class="who">
            <div class="name">김운전</div>
            <div class="mail">admin@email.com</div>
          </div>
          <button class="btn-gear" aria-label="설정">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
              <path d="M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/>
              <path d="M2 12h3M19 12h3M12 2v3M12 19v3M4.6 4.6l2.1 2.1M17.3 17.3l2.1 2.1M19.4 4.6l-2.1 2.1M6.7 17.3l-2.1 2.1"/>
            </svg>
          </button>
        </div>

        <!-- 로그인하지 않은 상태에서 표시할 섹션 -->
        <div class="login-required" id="loginRequired" style="display: none;">
          <div class="login-prompt">
            <div class="login-icon">👤</div>
            <div class="login-text">
              <div class="login-title">로그인이 필요합니다</div>
              <div class="login-subtitle">계정에 로그인하세요</div>
            </div>
            <button class="login-btn" aria-label="로그인">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
                <path d="M9 18l6-6-6-6"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <nav>
        <ul>
          <li><a href="#/home"        class="nav-item theme-blue"   data-route="home">
            <span class="ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 11l9-7 9 7"></path><path d="M9 22V12h6v10"></path></svg></span>
            <span class="txt">홈</span>
          </a></li>
          <li><a href="#/quiz"    class="nav-item theme-green"  data-route="quiz">
            <span class="ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="4" y="3" width="16" height="18" rx="2"></rect><path d="M8 7h8M8 11h8M8 15h6"></path></svg></span>
            <span class="txt">퀴즈 풀기</span>
          </a></li>
          <li><a href="#/wrong"   class="nav-item theme-red"    data-route="wrong">
            <span class="ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="4" y="4" width="16" height="16" rx="2"></rect><path d="M8 8h8M8 12h8M8 16h5"></path></svg></span>
            <span class="txt">오답노트</span>
          </a></li>
          <li><a href="#/analytics" class="nav-item theme-purple" data-route="analytics">
            <span class="ic"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"></rect><path d="M7 13h2v5H7zM11 9h2v9h-2zM15 6h2v12h-2z"></path></svg></span>
            <span class="txt">학습 분석</span>
          </a></li>
        </ul>
      </nav>

      <div class="foot">
        <div class="ver">AI-Go v1.0</div>
        <div>안전한 운전을 위한 스마트 학습</div>
      </div>
    </aside>
  </div>

<script>
  // drawer.js에서 모든 기능을 처리하므로 여기서는 제거
</script>
</body>
</html>

